define(["constants"],function(a){function b(b,c,e,f,g,h){e||(e=""),$.ajax({type:c,url:a.BASE_API_URL+b,beforeSend:function(a){g&&a.setRequestHeader("Session-Token",g),d++,$("#spinner").show()},complete:function(){d--,0===d&&$("#spinner").hide()},crossDomain:!0,data:$.param(e),dataType:"json"}).success(function(a){console.log("Success!. URL: "+b+" METHOD: "+c),f(a)}).fail(function(d){if(d.status==a.UNAUTHORIZED_REQUEST_CODE)window.app.router.navigate("admin/signIn",!0);else if(d.status==a.NOT_FOUND_REQUEST_CODE)window.app.router.navigate("/notFound",{trigger:!0,replace:!0}),null!=d.responseText&&""!==d.responseText?alert(JSON.parse(d.responseText).Message):alert($.i18n.t("server-error-message"));else if(d.status==a.INTERNAL_ERROR_REQUEST_CODE)window.app.router.navigate("/serverError",{trigger:!0}),null!=d.responseText&&""!==d.responseText?alert(JSON.parse(d.responseText).Message):alert($.i18n.t("server-error-message"));else{var e="";0!=d.status&&(e="\nCode:"+d.status),null!=d.responseText&&""!==d.responseText?alert(JSON.parse(d.responseText).Message):alert($.i18n.t("server-error-message")),console.log(e)}h&&h(),console.log("Failed!!. URL: "+b+" METHOD: "+c)})}function c(b,c,e,f){$.ajax({url:a.BASE_API_URL+b,beforeSend:function(){d++,$("#spinner").show()},complete:function(){d--,0===d&&$("#spinner").hide()},crossDomain:!0,type:c,data:e,contentType:!1,cache:!1,processData:!1}).success(function(a){console.log("Success!. URL: "+b+" METHOD: "+c),f(a)}).fail(function(d){if(d.status==a.UNAUTHORIZED_REQUEST_CODE)window.app.router.navigate("admin/signIn",!0);else if(d.status==a.NOT_FOUND_REQUEST_CODE)window.app.router.navigate("/notFound",{trigger:!0,replace:!0}),null!=d.responseText&&""!==d.responseText?alert(JSON.parse(d.responseText).Message):alert($.i18n.t("server-error-message"));else if(d.status==a.INTERNAL_ERROR_REQUEST_CODE)window.app.router.navigate("/serverError",{trigger:!0}),null!=d.responseText&&""!==d.responseText?alert(JSON.parse(d.responseText).Message):alert($.i18n.t("server-error-message"));else{var e="";0!=d.status&&(e="\nCode:"+d.status),null!=d.responseText&&""!==d.responseText?alert(JSON.parse(d.responseText).Message):alert($.i18n.t("server-error-message")),console.log(e)}console.log("Failed!!. URL: "+b+" METHOD: "+c)})}var d=0,e={login:function(c,d,e){var f={email:c,password:d};b(a.API_METHODS.admin.login.url,a.API_METHODS.admin.login.type,f,e)},submitAdminAbout:function(b,d){c(a.API_METHODS.admin.about.save.url,a.API_METHODS.admin.about.save.type,b,d)},submitAdminAboutTitleImage:function(b,d){c(a.API_METHODS.admin.about.save_title_image.url,a.API_METHODS.admin.about.save_title_image.type,b,d)},deleteAdminAboutTitleImage:function(c,d){b(a.API_METHODS.admin.about.delete_title_image.url,a.API_METHODS.admin.about.delete_title_image.type,null,d,c)},addAdminAlbumImage:function(b,d,e,f,g){var h=new FormData;h.append("image",d),h.append("description",e),h.append("Session-Token",b),c(a.API_METHODS.admin.album.add_image.url+f+a.API_METHODS.admin.album.add_image.url_2,a.API_METHODS.admin.album.add_image.type,h,g)},editAdminAlbumImage:function(b,d,e,f,g,h){var i=new FormData;i.append("image",d),i.append("description",e),i.append("Session-Token",b),c(a.API_METHODS.admin.album.edit_image.url+g+a.API_METHODS.admin.album.edit_image.url_2+f,a.API_METHODS.admin.album.edit_image.type,i,h)},editAdminAlbum:function(b,d,e,f,g,h,i){var j=new FormData;d&&j.append("image",d),j.append("album_description",e),j.append("album_name",f),j.append("is_visible",h),j.append("Session-Token",b),c(a.API_METHODS.admin.album.edit.url+g,a.API_METHODS.admin.album.edit.type,j,i)},addAdminAlbum:function(b,d,e,f,g,h){var i=new FormData;d&&i.append("image",d),i.append("album_description",e),i.append("album_name",f),i.append("album_type",g),i.append("Session-Token",b),c(a.API_METHODS.admin.albums_list.add.url,a.API_METHODS.admin.albums_list.add.type,i,h)},deleteAdminAlbum:function(c,d,e){b(a.API_METHODS.admin.albums_list["delete"].url+d,a.API_METHODS.admin.albums_list["delete"].type,null,e,c)},editAdminContactsDescription:function(c,d,e){var f={description:d};b(a.API_METHODS.admin.contacts_description.edit.url,a.API_METHODS.admin.contacts_description.edit.type,f,e,c)},getAdminBouquetsImages:function(c,d){b(a.API_METHODS.admin.bouquets.getAll.url,a.API_METHODS.admin.bouquets.getAll.type,null,d,c)},deleteAdminAlbumImage:function(c,d,e,f){b(a.API_METHODS.admin.album.delete_image.url+e+a.API_METHODS.admin.album.delete_image.url_2+d,a.API_METHODS.admin.album.delete_image.type,null,f,c)},getAdminAlbumsList:function(c,d,e){b(a.API_METHODS.admin.albums_list.get.url+d,a.API_METHODS.admin.albums_list.get.type,null,e,c)},getAdminAbout:function(c,d){b(a.API_METHODS.admin.about.get.url,a.API_METHODS.admin.about.get.type,null,d,c)},getAdminAlbumById:function(c,d,e){b(a.API_METHODS.admin.album.get.url+d,a.API_METHODS.admin.album.get.type,null,e,c)},getUserAbout:function(c){b(a.API_METHODS.user.about.url,a.API_METHODS.user.about.type,null,c)},getBouquetsAlbum:function(c){b(a.API_METHODS.user.bouquets.url,a.API_METHODS.user.bouquets.type,null,c)},getAlbumById:function(c,d){b(a.API_METHODS.user.album.url+c,a.API_METHODS.user.album.type,null,d)},getAlbumByType:function(c,d){b(a.API_METHODS.user.albums.url+c,a.API_METHODS.user.albums.type,null,d)},sendMessage:function(c,d,e,f,g,h){var i={name:c,phone:d,email:e,message:f};b(a.API_METHODS.user.message.url,a.API_METHODS.user.message.type,i,g,null,h)},getContactsDescription:function(c,d){b(a.API_METHODS.user.contacts_description.url,a.API_METHODS.user.contacts_description.type,null,c,null,d)}};return e});